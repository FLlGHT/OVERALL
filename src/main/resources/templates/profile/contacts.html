<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5" class="h-100">
<head>
    <meta charset="UTF-8">
    <title th:text="${profile.firstName} + '\'s contacts'"></title>

    <link rel="stylesheet" href="/css/profile.css">
    <link rel="stylesheet" href="/webjars/bootstrap/5.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/webjars/bootstrap-icons/1.9.1/font/bootstrap-icons.css">

    <script type="text/javascript" src="/webjars/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>

<div class="container px-4 py-5" id="hanging-icons">
    <a class="pb-2 border-bottom text-decoration-none text-muted" th:href="@{'/' + ${profile.getUsername()}}" th:text="${profile.firstName} + '\'s contacts'"></a>
    <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
        <div th:each="contact : ${profile.getContacts()}">
            <div class="col d-flex align-items-start">
                <div class="icon-square d-inline-flex align-items-center justify-content-center fs-4 flex-shrink-0 me-3">

                    <svg th:if="${contact.getImageString() == null}" class="bd-placeholder-img rounded-circle me-3"
                         width="5em" height="5em" xmlns="http://www.w3.org/2000/svg" role="img"
                         aria-label="Placeholder: 140x140"
                         preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title>
                        <rect width="100%" height="100%" fill="#777"></rect>
                        <text x="50%" y="50%" fill="#777" dy=".3em">140x140</text>
                    </svg>

                    <img th:if="${contact.getImageString() != null}"
                         th:src="@{'data:image/png;base64, ' + ${contact.getImageString()}}" alt="#"
                         class="contact-image me-3">
                </div>
                <div>
                    <p class="fw-bold mb-0 text-truncate" style="max-width: 120px"
                       th:text="${contact.getFirstName()}"></p>
                    <p class="fw-bold mb-0 text-truncate" style="max-width: 120px"
                       th:text="${contact.getSecondName()}"></p>
                    <a th:href="@{'/' + ${contact.getUsername()}}"
                       class="d-inline-block text-truncate mb-0 text-decoration-none text-muted"
                       style="max-width: 120px" th:text="${contact.getUsername()}"></a>
                    <p class="text-secondary " th:text="${contact.getOverallRating()}"></p>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>