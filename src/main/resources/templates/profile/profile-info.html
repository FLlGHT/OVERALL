<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Profile info</title>
</head>
<body>

<div class="row" th:fragment="profile-info">

  <!--                Profile image-->
  <div class="col">

    <svg th:if="${profile.getImageString() == null}" class="bd-placeholder-img rounded-circle" width="250" height="250"
         xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 140x140"
         preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title>
      <rect width="100%" height="100%" fill="#777"></rect>
      <text x="50%" y="50%" fill="#777" dy=".3em">140x140</text>
    </svg>

    <img th:if="${profile.getImageString() != null}" th:src="@{'data:image/png;base64, ' + ${profile.getImageString()}}" alt="#"
         class="profile-image">

  </div>

  <!--                Profile info-->
  <div class="col-lg-7">
    <div class="row">
      <h2 class="col-md-auto fw-bold lh-1" th:text="${profile.getFirstName() + ' ' + profile.getSecondName()}"></h2>
      <h2 class="col fw-bold lh-1 text-muted" th:text="'@' + ${profile.getUsername()}"></h2>
    </div>
    <div class="row mt-2">
      <i class="col-md-auto bi bi-calendar2-heart"></i>
      <h5 class="col-md-auto" th:text="${#dates.format(profile.getDateOfBirth(), 'dd-MM-yyyy')}"></h5>
      <i class="ms-4 col-md-auto bi bi-house"></i>
      <h5 class="col-md-auto" th:text="${profile.getPlaceOfResidence()}"></h5>
    </div>
    <div class="row">
      <i class="col-md-auto bi bi-body-text"></i>
      <h6 class="col lead profile-description" th:text="${profile.getDescription()}"></h6>
    </div>
    <div th:each="externalLink : ${profile.getExternalLinks()}" class="row">
      <i class="col-md-auto bi bi-link"></i>
      <a class="col-md-auto h6" th:text="${externalLink.link}"></a>
    </div>

  </div>

  <!--                Profile overall-->
  <div class="col">
    <input type="hidden" id="overall-value" th:value="${profile.getOverallRating()}">
    <div id="pie-mold" class="yummy-pie" data-percentage="80" data-baking-time="1200"></div>
    <script type="text/javascript" src="/scripts/chart.js"></script>
  </div>

</div>

</body>
</html>